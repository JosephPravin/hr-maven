pipeline {
	agent any
	environment {
		ipAddress = '10.98.13.1'
	}
	stages {
		stage('Compile-Package') {
			steps{
				withMaven(maven: 'maven_3_6_0') {
					sh 'mvn -f cisco-hr/pom.xml clean package'
				}
			}
		}
		stage('Stop Tomcat') {
			steps {
				sshagent(['jpravinp']) {
						sh 'ssh -o StrictHostKeyChecking=no jpravinp@${ipAddress} /Users/jpravinp/Desktop/tomcat/bin/shutdown.sh'	
				}
			} 
			
		}

	}
}
